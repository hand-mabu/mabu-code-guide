<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <title>JavaScript | MabuDoc Theme</title>
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <meta name="description" content="Modern, powerful and simple theme for Hexo.">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/sukkaw/hexo-theme-suka@0.1.0/source/img/suka-favicon.ico">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/sukkaw/hexo-theme-suka@0.1.0/source/img/suka-favicon.ico">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/spectre.css@0.5.3/dist/spectre.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/spectre.css@0.5.3/dist/spectre-exp.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/spectre.css@0.5.3/dist/spectre-icons.min.css">
    <link rel="stylesheet" href="/mabu-code-guide/style.min.css">
    <link rel="stylesheet" href="/mabu-code-guide/markdown.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sukkaw/hexo-theme-suka@0.1.0/source/lib/prism/prism-ghcolors.min.css">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://hand-mabu.github.io/hexo-mabu-doc/">
    <meta property="og:title" content="介绍 | MabuDoc Theme">
    <meta property="og:description" content="Modern Simlpe Powerful Theme for hexo">
    <meta property="og:image" content>
</head>

<body>
    
<header class="pt-2 pb-2">
    <div class="container grid-lg navbar pt-2 pb-2">
        <section class="navbar-section">
            <a class="off-canvas-toggle btn btn-link btn-action" href="#sidebar"><i class="icon icon-menu"></i></a>
            <a class="navbar-icon" href="https://hand-mabu.github.io/hexo-mabu-doc/">
                <img src="/mabu-code-guide/assets/img/hexo-theme-suka.png">
            </a>
            <a href="https://hand-mabu.github.io/hexo-mabu-doc/" class="btn btn-link">
                MabuDoc Theme</a>
        </section>
        <section class="navbar-section">
            
            <a href="/mabu-code-guide/frontend/JavaScript/" class="btn btn-link navbar-link">简体中文</a>
            
        </section>
    </div>
</header>

    <div class="off-canvas off-canvas-sidebar-show">

        <div id="sidebar" class="off-canvas-sidebar">
            

<div class="docs-nav">
    <div class="docs-search has-icon-left">
        <i class="form-icon icon icon-search"></i>
        <input id="search-field" class="form-input" type="text" placeholder="Search...">
    </div>
    <div id="search-result"></div>
    <ul class="nav">

<li class="nav-item" style>
    <a href="/mabu-code-guide/">
        MABU 代码规范
    </a>
</li>

<li class="nav-item" style>
    <a href="javascript:void(0);">
        前端
    </a>
</li><ul class="nav">

<li class="nav-item" style>
    <a href="/mabu-code-guide/frontend/namingRules/">
        命名规则
    </a>
</li>

<li class="nav-item" style>
    <a href="/mabu-code-guide/frontend/HTML/">
        HTML
    </a>
</li>

<li class="nav-item" style>
    <a href="/mabu-code-guide/frontend/CSS_SCSS/">
        CSS SCSS
    </a>
</li>

<li class="nav-item active" style>
    <a href="/mabu-code-guide/frontend/JavaScript/">
        JavaScript
    </a>
</li></ul>

<li class="nav-item" style>
    <a href="javascript:void(0);">
        后端
    </a>
</li>

<li class="nav-item" style>
    <a href="/mabu-code-guide/gitend/git/">
        git
    </a>
</li></ul>
    <!-- <ul class="nav"> -->
    <!-- 
        <li class="nav-item">
            <a href="/mabu-code-guide/en/config/">Theme Config</a>
        </li>
    -->
    <!-- </ul> -->
</div>
        </div>

        <a class="off-canvas-overlay" href="#close"></a>

        <div class="off-canvas-content">
            <div class="container px-0">
                




<div class="docs-header">
    <div class="docs-header-wrapper">
        <div class="title-wrapper">
            <h1 class="docs-header-title mb-1">JavaScript</h1>
            
        </div>
        <!-- <span class="label label-rounded bg-dark mt-2">
            <a class="docs-github" href="https://github.com/theme-suka/docs/tree/master/source/frontend/JavaScript.md" target="_blank">在 GitHub 上编辑</a>
        </span> -->
    </div>
</div>

<div class="docs-content">
    <div class="columns">
        <div class="column col-9 col-lg-12 docs-content-section">
            <div class="container px-0">
                <div id="post-content">
                    <h4 id="1、缩进"><a href="#1、缩进" class="headerlink" title="1、缩进"></a>1、缩进</h4><p>使用soft tab（4个空格）。</p>
<pre><code>var x = 1,
    y = 1;

if (x &lt; y) {
    x += 10;
} else {
    x += 1;
}
</code></pre><h4 id="2、单位长度"><a href="#2、单位长度" class="headerlink" title="2、单位长度"></a>2、单位长度</h4><p>不要超过80，但如果编辑器开启word wrap可以不考虑单行长度。</p>
<h4 id="3、分号"><a href="#3、分号" class="headerlink" title="3、分号"></a>3、分号</h4><p>以下几种情况后需加分号：</p>
<ul>
<li>变量声明</li>
<li>表达式</li>
<li><code>return</code></li>
<li><code>throw</code></li>
<li><code>break</code></li>
<li><code>continue</code></li>
<li><code>do-while</code><br><code>`</code><br>/<em> var declaration </em>/<br>var x = 1;</li>
</ul>
<p>/<em> expression statement </em>/<br>x++;</p>
<p>/<em> do-while </em>/<br>do {<br>    x++;<br>} while (x &lt; 10);</p>
<pre><code>
#### 4、空格
 - 以下几种情况不需要空格：
    - 对象的属性名后；
    - 前缀一元运算符后；
    - 后缀一元运算符前；
    - 函数调用括号前；
    - 无论是函数声明还是函数表达式，`(`前不要空格；
    - 数组的`[`后和`]`前；
    - 对象的`{`后和`}`前；
    - 运算符`(`后和`)`前；
 - 以下几种情况需要空格：
    - 二元运算符前后
    - 三元运算符`?:`前后
    - 代码块`{`前
    - 下列关键字前：`else`, `while`, `catch`, `finally`；
    - 下列关键字后：`if`, `else`, `for`, `while`, `do`, `switch`, `case`, `try`, `catch`, `finally`, `with`, `return`, `typeof`；
    - 单行注释`//`后（若单行注释和代码同行，则`//`前也需要），多行注释`*`后
    - 对象的属性值前
    - for循环，分号后留有一个空格，前置条件如果有多个，逗号后留一个空格
    无论是函数声明还是函数表达式，`{`前一定要有空格
    - 函数的参数之间
</code></pre><p>// not good<br>var a = {<br>    b :1<br>};</p>
<p>// good<br>var a = {<br>    b: 1<br>};</p>
<p>// not good<br>++ x;<br>y ++;<br>z = x?1:2;</p>
<p>// good<br>++x;<br>y++;<br>z = x ? 1 : 2;</p>
<p>// not good<br>var a = [ 1, 2 ];</p>
<p>// good<br>var a = [1, 2];</p>
<p>// not good<br>var a = ( 1+2 )*3;</p>
<p>// good<br>var a = (1 + 2) * 3;</p>
<p>// no space before ‘(‘, one space before ‘{‘, one space between function parameters<br>var doSomething = function(a, b, c) {<br>    // do something<br>};</p>
<p>// no space before ‘(‘<br>doSomething(item);</p>
<p>// not good<br>for(i=0;i&lt;6;i++){<br>    x++;<br>}</p>
<p>// good<br>for (i = 0; i &lt; 6; i++) {<br>    x++;<br>}</p>
<pre><code>
#### 5、空行
以下几种情况需要空行：
 - 变量声明后（当变量声明在代码块的最后一行时，则无需空行）；
 - 注释前（当注释在代码块的第一行时，则无需空行）；
 - 代码块后（在函数调用、数组、对象中则无需空行）；
 - 文件最后保留一个空行。
</code></pre><p>// need blank line after variable declaration<br>var x = 1;</p>
<p>// not need blank line when variable declaration is last expression in the current block<br>if (x &gt;= 1) {<br>    var y = x + 1;<br>}</p>
<p>var a = 2;</p>
<p>// need blank line before line comment<br>a++;</p>
<p>function b() {<br>    // not need blank line when comment is first line of block<br>    return a;<br>}</p>
<p>// need blank line after blocks<br>for (var i = 0; i &lt; 2; i++) {<br>    if (true) {<br>        return false;<br>    }</p>
<pre><code>continue;
</code></pre><p>}</p>
<p>var obj = {<br>    foo: function() {<br>        return 1;<br>    },</p>
<pre><code>bar: function() {
    return 2;
}
</code></pre><p>};</p>
<p>// not need blank line when in argument list, array, object<br>func(<br>    2,<br>    function() {<br>        a++;<br>    },<br>    3<br>);</p>
<p>var foo = [<br>    2,<br>    function() {<br>        a++;<br>    },<br>    3<br>];</p>
<p>var foo = {<br>    a: 2,<br>    b: function() {<br>        a++;<br>    },<br>    c: 3<br>};</p>
<pre><code>
#### 6、换行
换行的地方，行末必须有`,`或者运算符；

以下几种情况不需要换行：
 - 下列关键字后：`else`, `catch`,` finally`；
 - 代码块`{`前；

以下几种情况需要换行：
 - 代码块`{`后和`}`前；
 - 变量赋值后；

</code></pre><p>// not good<br>var a = {<br>    b: 1<br>    , c: 2<br>};</p>
<p>x = y<br>    ? 1 : 2;</p>
<p>// good<br>var a = {<br>    b: 1,<br>    c: 2<br>};</p>
<p>x = y ? 1 : 2;<br>x = y ?<br>    1 : 2;</p>
<p>// no need line break with ‘else’, ‘catch’, ‘finally’<br>if (condition) {<br>    …<br>} else {<br>    …<br>}</p>
<p>try {<br>    …<br>} catch (e) {<br>    …<br>} finally {<br>    …<br>}</p>
<p>// not good<br>function test()<br>{<br>    …<br>}</p>
<p>// good<br>function test() {<br>    …<br>}</p>
<p>// not good<br>var a, foo = 7, b,<br>    c, bar = 8;</p>
<p>// good<br>var a,<br>    foo = 7,<br>    b, c, bar = 8;</p>
<pre><code>
#### 7、单行注释
双斜线后，必须跟一个空格；

缩进与下一行代码保持一致；

可位于一个代码行的末尾，与代码间隔一个空格。 
</code></pre><p>if (condition) {<br>    // if you made it here, then all security checks passed<br>    allowed();<br>}</p>
<p>var zhangsan = ‘zhangsan’; // one space after code</p>
<pre><code>
#### 8、多行注释
最少三行, `*`后跟一个空格，具体参照右边的写法；

建议在以下情况下使用：
 - 难于理解的代码段；
 - 可能存在错误的代码段；
 - 浏览器特殊的HACK代码；
 - 业务逻辑强相关的代码
</code></pre><p>/*</p>
<ul>
<li>one space after ‘<em>‘
</em>/<br>var x = 1;<br><code>`</code></li>
</ul>
<h4 id="9、文档注释"><a href="#9、文档注释" class="headerlink" title="9、文档注释"></a>9、文档注释</h4><p>各类标签<code>@param</code>, <code>@method</code>等请参考<a href="http://usejsdoc.org/" target="_blank" rel="noopener">usejsdoc</a>和<a href="http://yuri4ever.github.io/jsdoc/" target="_blank" rel="noopener">JSDoc Guide</a>；</p>
<p>建议在以下情况下使用：</p>
<ul>
<li>所有常量；</li>
<li>所有函数；</li>
<li>所有类；<br><code>`</code><br>/**</li>
</ul>
<ul>
<li>@func</li>
<li>@desc 一个带参数的函数</li>
<li>@param {string} a - 参数a</li>
<li>@param {number} b=1 - 参数b默认值为1</li>
<li>@param {string} c=1 - 参数c有两种支持的取值<br>1—表示x<br>2—表示xx</li>
<li>@param {object} d - 参数d为一个对象</li>
<li>@param {string} d.e - 参数d的e属性</li>
<li>@param {string} d.f - 参数d的f属性</li>
<li>@param {object[]} g - 参数g为一个对象数组</li>
<li>@param {string} g.h - 参数g数组中一项的h属性</li>
<li>@param {string} g.i - 参数g数组中一项的i属性</li>
<li>@param {string} [j] - 参数j是一个可选参数<br>*/<br>function foo(a, b, c, d, g, j) {<br> …<br>}<br><code>`</code></li>
</ul>
<h4 id="10、引号"><a href="#10、引号" class="headerlink" title="10、引号"></a>10、引号</h4><p>最外层统一使用单引号。</p>
<pre><code>// not good
var x = &quot;test&quot;;

// good
var y = &#39;foo&#39;,
    z = &#39;&lt;div id=&quot;test&quot;&gt;&lt;/div&gt;&#39;;
</code></pre><h4 id="11、变量命名"><a href="#11、变量命名" class="headerlink" title="11、变量命名"></a>11、变量命名</h4><ul>
<li>标准变量采用驼峰式命名（除了对象的属性外，主要是考虑到cgi返回的数据）；</li>
<li>‘ID’在变量名中全大写；</li>
<li>‘URL’在变量名中全大写；</li>
<li>‘Android’在变量名中大写第一个字母；</li>
<li>‘iOS’在变量名中小写第一个，大写后两个字母；</li>
<li>常量全大写，用下划线连接；</li>
<li>构造函数，大写第一个字母；</li>
<li>jquery对象必须以’$’开头命名；</li>
</ul>
<pre><code>var thisIsMyName;

var goodID;

var reportURL;

var AndroidVersion;

var iOSVersion;

var MAX_COUNT = 10;

function Person(name) {
    this.name = name;
}

// not good
var body = $(&#39;body&#39;);

// good
var $body = $(&#39;body&#39;);
</code></pre><h4 id="12、变量声明"><a href="#12、变量声明" class="headerlink" title="12、变量声明"></a>12、变量声明</h4><p>一个函数作用域中所有的变量声明尽量提到函数首部，用一个var声明，不允许出现两个连续的var声明。</p>
<pre><code>function doSomethingWithItems(items) {
    // use one var
    var value = 10,
        result = value + 10,
        i,
        len;

    for (i = 0, len = items.length; i &lt; len; i++) {
        result += 10;
    }
}
</code></pre><h4 id="13、函数"><a href="#13、函数" class="headerlink" title="13、函数"></a>13、函数</h4><ul>
<li>无论是函数声明还是函数表达式，’(‘前不要空格，但’{‘前一定要有空格；</li>
<li>函数调用括号前不需要空格；</li>
<li>立即执行函数外必须包一层括号；</li>
<li>不要给inline function命名；</li>
<li>参数之间用’, ‘分隔，注意逗号后有一个空格。<br><code>`</code><br>// no space before ‘(‘, but one space before’{‘<br>var doSomething = function(item) {<br> // do something<br>};</li>
</ul>
<p>function doSomething(item) {<br>    // do something<br>}</p>
<p>// not good<br>doSomething (item);</p>
<p>// good<br>doSomething(item);</p>
<p>// requires parentheses around immediately invoked function expressions<br>(function() {<br>    return 1;<br>})();</p>
<p>// not good<br>[1, 2].forEach(function x() {<br>    …<br>});</p>
<p>// good<br>[1, 2].forEach(function() {<br>    …<br>});</p>
<p>// not good<br>var a = [1, 2, function a() {<br>    …<br>}];</p>
<p>// good<br>var a = [1, 2, function() {<br>    …<br>}];</p>
<p>// use ‘, ‘ between function parameters<br>var doSomething = function(a, b, c) {<br>    // do something<br>};</p>
<pre><code>#### 14、数组、对象
对象属性名不需要加引号；

对象以缩进的形式书写，不要写在一行；

数组、对象最后不要有逗号。
</code></pre><p>// not good<br>var a = {<br>    ‘b’: 1<br>};</p>
<p>var a = {b: 1};</p>
<p>var a = {<br>    b: 1,<br>    c: 2,<br>};</p>
<p>// good<br>var a = {<br>    b: 1,<br>    c: 2<br>};</p>
<pre><code>
#### 15、括号
下列关键字后必须有大括号（即使代码块的内容只有一行）：`if`, `else`, `for`, `while`, `do`, `switch`, `try`, `catch`, `finally`, `with`。
</code></pre><p>// not good<br>if (condition)<br>    doSomething();</p>
<p>// good<br>if (condition) {<br>    doSomething();<br>}</p>
<pre><code>
#### 16、`null`
适用场景：
 - 初始化一个将来可能被赋值为对象的变量；
 - 与已经初始化的变量做比较；
 - 作为一个参数为对象的函数的调用传参；
 - 作为一个返回对象的函数的返回值；

不适用场景：
 - 不要用null来判断函数调用时有无传参；
 - 不要与未初始化的变量做比较；
</code></pre><p>// not good<br>function test(a, b) {<br>    if (b === null) {<br>        // not mean b is not supply<br>        …<br>    }<br>}</p>
<p>var a;</p>
<p>if (a === null) {<br>    …<br>}</p>
<p>// good<br>var a = null;</p>
<p>if (a === null) {<br>    …<br>}</p>
<pre><code>
#### 17、`undefined`
永远不要直接使用`undefined`进行变量判断；

使用`typeof`和字符串`undefined`对变量进行判断。
</code></pre><p>// not good<br>if (person === undefined) {<br>    …<br>}</p>
<p>// good<br>if (typeof person === ‘undefined’) {<br>    …<br>}</p>
<pre><code>#### 18、jshint
 - 用`===`, `!==`代替`==`, `!=`；
 - for-in里一定要有hasOwnProperty的判断；
 - 不要在内置对象的原型上添加方法，如`Array`, `Date`；
 - 不要在内层作用域的代码里声明了变量，之后却访问到了外层作用域的同名变量；
 - 变量不要先使用后声明；
 - 不要在一句代码中单单使用构造函数，记得将其赋值给某个变量；
 - 不要在同个作用域下声明同名变量；
 - 不要在一些不需要的地方加括号，例：`delete(a.b)`；
 - 不要使用未声明的变量（全局变量需要加到`.jshintrc`文件的`globals`属性里面）；
 - 不要声明了变量却不使用；
 - 不要在应该做比较的地方做赋值；
 - `debugger`不要出现在提交的代码里；
 - 数组中不要存在空元素；
 - 不要在循环内部声明函数；
 - 不要像这样使用构造函数，例：`new function () { ... }`, `new Object`；
</code></pre><p>// not good<br>if (a == 1) {<br>    a++;<br>}</p>
<p>// good<br>if (a === 1) {<br>    a++;<br>}</p>
<p>// good<br>for (key in obj) {<br>    if (obj.hasOwnProperty(key)) {<br>        // be sure that obj[key] belongs to the object and was not inherited<br>        console.log(obj[key]);<br>    }<br>}</p>
<p>// not good<br>Array.prototype.count = function(value) {<br>    return 4;<br>};</p>
<p>// not good<br>var x = 1;</p>
<p>function test() {<br>    if (true) {<br>        var x = 0;<br>    }</p>
<pre><code>x += 1;
</code></pre><p>}</p>
<p>// not good<br>function test() {<br>    console.log(x);</p>
<pre><code>var x = 1;
</code></pre><p>}</p>
<p>// not good<br>new Person();</p>
<p>// good<br>var person = new Person();</p>
<p>// not good<br>delete(obj.attr);</p>
<p>// good<br>delete obj.attr;</p>
<p>// not good<br>if (a = 10) {<br>    a++;<br>}</p>
<p>// not good<br>var a = [1, , , 2, 3];</p>
<p>// not good<br>var nums = [];</p>
<p>for (var i = 0; i &lt; 10; i++) {<br>    (function(i) {<br>        nums[i] = function(j) {<br>            return i + j;<br>        };<br>    }(i));<br>}</p>
<p>// not good<br>var singleton = new function() {<br>    var privateVar;</p>
<pre><code>this.publicMethod = function() {
    privateVar = 1;
};

this.publicMethod2 = function() {
    privateVar = 2;
};
</code></pre><p>};</p>
<pre><code>#### 19、杂项
 - 不要混用tab和space；
 - 不要在一处使用多个tab或space；
 - 换行符统一用`LF`；
 - 对上下文this的引用只能使用`_this`, `that`, `self`其中一个来命名；
 - 行尾不要有空白字符；
 - `switch`的`falling through`和`no default`的情况一定要有注释特别说明；
 - 不允许有空的代码块。
</code></pre><p>// not good<br>var a   = 1;</p>
<p>function Person() {<br>    // not good<br>    var me = this;</p>
<pre><code>// good
var _this = this;

// good
var that = this;

// good
var self = this;
</code></pre><p>}</p>
<p>// good<br>switch (condition) {<br>    case 1:<br>    case 2:<br>        …<br>        break;<br>    case 3:<br>        …<br>    // why fall through<br>    case 4<br>        …<br>        break;<br>    // why no default<br>}</p>
<p>// not good with empty block<br>if (condition) {</p>
<p>}<br><code>`</code></p>
<hr>
<p><strong>相关资料：</strong></p>
<ul>
<li><a href="http://alloyteam.github.io/CodeGuide/" target="_blank" rel="noopener">Code Guide by @AlloyTeam</a></li>
</ul>

                </div>
            </div>
        </div>
        <div class="column col-3 hide-lg docs-toc-section">
            <div class="container px-0">
                <div id="post-toc">
                    
                        <p class="h4 text-bold">目录</p>
                        <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1、缩进"><span class="post-toc-text">1、缩进</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2、单位长度"><span class="post-toc-text">2、单位长度</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3、分号"><span class="post-toc-text">3、分号</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#9、文档注释"><span class="post-toc-text">9、文档注释</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#10、引号"><span class="post-toc-text">10、引号</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#11、变量命名"><span class="post-toc-text">11、变量命名</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#12、变量声明"><span class="post-toc-text">12、变量声明</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#13、函数"><span class="post-toc-text">13、函数</span></a></li></ol>
                    
                </div>
            </div>
        </div>
    </div>
    <footer>
    <p class="mb-2"><a href="https://hand-mabu.github.io/mabu-code-guide/" target="_blank">Home</a> · <a href="https://github.com/hand-mabu/mabu-code-guide" target="_blank">GitHub</a>
    </p><p>Designed and built with by <a href="https://github.com/hand-mabu" target="_blank">MABU</a>. Licensed under the <a href="https://github.com/hand-mabu/mabu-code-guide/blob/dev/LICENSE" target="_blank">GPL V3 License</a>.</p>
</footer>
</div>

            </div>
        </div>
    </div>
    <script src="/mabu-code-guide/jquery.min.js"></script>
    <script src="/mabu-code-guide/index.js"></script>
    <script src="/mabu-code-guide/local-search.min.js"></script>
    <script>
        searchFunc('/mabu-code-guide/search.json')
    </script>
</body>

</html>